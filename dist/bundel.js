(()=>{"use strict";var t,e,n,o,a,r,i,c,l,u,s,d,m,v,f,h;m=document.querySelector("#timer-hours"),v=document.querySelector("#timer-minutes"),f=document.querySelector("#timer-seconds"),h=function(t){return t<10&&(t="0"+t),t},d=requestAnimationFrame((function t(){d=requestAnimationFrame(t);var e,n,o,a=(e=(new Date("2022-12-31")-new Date)/1e3,n=Math.floor(e%60),o=Math.floor(e/60%60),{timeRemaining:e,hours:Math.floor(e/60/60-3)%24,minutes:o,seconds:n});a.timeRemaining>0?(m.textContent=h(1*a.hours),v.textContent=h(1*a.minutes),f.textContent=h(1*a.seconds)):(m.textContent=h(0),v.textContent=h(0),f.textContent=h(0),cancelAnimationFrame(d))})),i=document.querySelector(".menu"),c=document.querySelector("menu"),l=c.querySelectorAll("ul>li>a"),u=document.querySelector(".close-btn"),s=function(){c.classList.toggle("active-menu")},document.addEventListener("click",(function(t){var e=t.target;e!==l&&e.closest("div")!==i&&e!==u?(e&&l.forEach((function(t){e===t&&s()})),c.classList.contains("active-menu")&&!e.closest("menu")&&s()):s()})),o=document.querySelector(".popup"),a=document.querySelectorAll(".popup-btn"),r=document.querySelector(".popup-content"),a.forEach((function(t){t.addEventListener("click",(function(){var t=window.innerWidth;if(o.style.cssText="display:block;",t>768){var e=-50;r.style.top="".concat(e,"%");var n=setInterval((function(){(e+=1)<=10?r.style.top="".concat(e,"%"):clearInterval(n)}),2)}}))})),o.addEventListener("click",(function(t){var e=t.target;e.classList.contains("popup-close")?o.style.cssText="display:none;":(e=e.closest(".popup-content"))||(o.style.cssText="display:none;")})),t=document.querySelector(".service-header"),e=t.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab"),t.addEventListener("click",(function(t){var o=t.target;(o=o.closest(".service-header-tab"))&&e.forEach((function(t,a){t===o&&function(t){for(var o=0;o<n.length;o++)t===o?(n[o].classList.remove("d-none"),e[o].classList.add("active")):(n[o].classList.add("d-none"),e[o].classList.remove("active"))}(a)}))})),function(){var t,e=document.querySelector(".portfolio-content"),n=document.querySelectorAll(".portfolio-item"),o=document.querySelector(".portfolio-dots"),a=0,r=[];n.forEach((function(){var t;t=document.createElement("li"),o.appendChild(t),r.push(t),r.forEach((function(t,e){0===e?t.classList.add("dot","dot-active"):t.classList.add("dot")}))}));var i=function(t,e,n){t[e].classList.toggle(n)},c=function(t,e,n){t[e].classList.toggle(n)},l=function(){i(n,a,"portfolio-item-active"),i(r,a,"dot-active"),++a>=n.length&&(a=0),c(n,a,"portfolio-item-active"),c(r,a,"dot-active")},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;t=setInterval(l,e)};e.addEventListener("click",(function(t){t.preventDefault();var e=t.target;e.matches(".portfolio-btn, .dot")&&(i(n,a,"portfolio-item-active"),i(r,a,"dot-active"),e.matches("#arrow-right")?a++:e.matches("#arrow-left")?a--:e.matches(".dot")&&r.forEach((function(t,n){t===e&&(a=n)})),a>=n.length&&(a=0),a<0&&(a=n.length-1),c(n,a,"portfolio-item-active"),c(r,a,"dot-active"))})),e.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(t)})),e.addEventListener("mouseout",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&u()})),u(1500)}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),r=document.querySelector(".calc-count"),i=document.getElementById("total"),c=function(){var e=0,c=1,l=1;i.textContent=10;var u,s=n.options[n.selectedIndex].value,d=+o.value;r.value>1&&(c+=(r.value-1)/10),a.value&&a.value<5?l*=2:a.value&&a.value<10&&(l*=1.5),s&&d&&(e=t*s*d*c*l),u=requestAnimationFrame((function t(){u=requestAnimationFrame(t),i.textContent=Math.floor(Number(i.textContent)+.1*e),Number(i.textContent)>=e&&cancelAnimationFrame(u)}))};e.addEventListener("change",(function(t){var e=t.target;e!==n&&e!==o&&e!==a&&e!==r||c()}))}(),function(){var t="Что то пошло не так!",e="Загрузка...",n="Спасибо! Мы скоро с Вами свяжемся!",o=document.getElementsByTagName("form"),a=document.getElementById("form1"),r=document.getElementById("form2"),i=document.getElementById("form3"),c=document.querySelectorAll(".form-name"),l=document.querySelectorAll(".form-email"),u=document.querySelectorAll(".form-phone"),s=document.getElementById("form2-name"),d=document.getElementById("form2-message");console.log(o),c.forEach((function(t){t.addEventListener("input",(function(){this.value=this.value.replace(/[^а-яё\s]/gi,""),t.value.length<2?(t.setCustomValidity("имя должно быть не меенее 2х символов"),t.reportValidity()):t.setCustomValidity("")}))})),s.addEventListener("input",(function(){this.value=this.value.replace(/[^а-яё\s]/gi,""),this.value.length<2?(this.setCustomValidity("имя должно быть не меенее 2х символов"),this.reportValidity()):this.setCustomValidity("")})),l.forEach((function(t){t.addEventListener("input",(function(){t.value=t.value.replace(/[^a-z@0-9\.]/gi,""),t.value.length<=0?(t.setCustomValidity("поле не должно быть пустым"),t.reportValidity()):/(\w+)@(\w+)\.\w{2,3}/gi.test(t.value)?t.setCustomValidity(""):(t.setCustomValidity("введите имя @ домен . регион"),t.reportValidity())}))})),u.forEach((function(t){t.setAttribute("maxlength","12"),t.addEventListener("input",(function(){t.value=t.value.replace(/[^0-9]$/g,""),/^\+?(7|8)\d{7,11}$/.test(t.value)?t.setCustomValidity(""):t.value.length<=7?(t.setCustomValidity("не менее 7 символов"),t.reportValidity()):(t.setCustomValidity("формат  89991110011"),t.reportValidity())}))})),d.addEventListener("input",(function(){this.value=this.value.replace(/[^а-яё\s0-9.,]/gi,""),this.value.length<=0?(this.setCustomValidity("поле не должно быть пустым"),this.reportValidity()):this.value.length<10?(this.setCustomValidity("имя должно быть не меенее 10 символов"),this.reportValidity()):this.setCustomValidity("")}));var m=document.createElement("div");m.style.cssText="font-size: 2rem;",a.addEventListener("submit",(function(o){if(o.preventDefault(),""!==c[0].value&&""!==l[0].value&&""!==u[0].value){m.style.cssText="color: #ffffff;",a.appendChild(m),m.textContent=e;var r=new FormData(a),i={};r.forEach((function(t,e){i[e]=t})),v(i,(function(){m.textContent=n}),(function(e){m.textContent=t,console.error(e)}));var s=0,d=setInterval((function(){s++,console.log(s),s>=5&&(clearInterval(d),m.textContent="")}),1e3);a.reset()}})),r.addEventListener("submit",(function(o){if(o.preventDefault(),""!==s.value&&""!==l[1].value&&""!==u[1].value&&""!==d.value){r.appendChild(m),m.textContent=e;var a=new FormData(r),i={};a.forEach((function(t,e){i[e]=t})),v(i,(function(){m.textContent=n}),(function(e){m.textContent=t,console.error(e)}));var c=0,f=setInterval((function(){c++,console.log(c),c>=5&&(clearInterval(f),m.textContent="")}),1e3);r.reset()}})),i.addEventListener("submit",(function(o){if(o.preventDefault(),""!==c[1].value&&""!==l[2].value&&""!==u[2].value){m.style.cssText="color: #ffffff;",i.appendChild(m),m.textContent=e;var a=new FormData(i),r={};a.forEach((function(t,e){r[e]=t})),v(r,(function(){m.textContent=n}),(function(e){m.textContent=t,console.error(e)}));var s=0,d=setInterval((function(){s++,console.log(s),s>=5&&(clearInterval(d),m.textContent="")}),1e3);i.reset()}}));var v=function(t){return new Promise((function(e,o){var a=new XMLHttpRequest;a.addEventListener("readystatechange",(function(){4===a.readyState&&(200===a.status?e(m.textContent=n):o(a.status))})),a.open("POST","server.php"),a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify(t))}))}}(),document.querySelectorAll(".command__photo").forEach((function(t){var e=t.getAttribute("src","value"),n=t.dataset.img;t.addEventListener("mouseenter",(function(){t.setAttribute("src",n)})),t.addEventListener("mouseleave",(function(){t.setAttribute("src",e)}))}))})();